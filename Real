-- LocalScript (ilagay sa StarterGui)
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- TEXT TO COPY (palitan ito ng iyong Discord invite o DC text)
local dcText = "https://discord.gg/wVfHjz47"

-- Create ScreenGui -> Frame -> Label + Button
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "DCNoticeGui"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 360, 0, 110)
frame.Position = UDim2.new(0.5, -180, 0.1, 0)
frame.AnchorPoint = Vector2.new(0.5, 0)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.BorderSizePixel = 0
frame.Parent = screenGui

local header = Instance.new("TextLabel")
header.Size = UDim2.new(1, -20, 0, 44)
header.Position = UDim2.new(0, 10, 0, 8)
header.BackgroundTransparency = 1
header.TextXAlignment = Enum.TextXAlignment.Left
header.Font = Enum.Font.SourceSansSemibold
header.TextSize = 18
header.TextColor3 = Color3.fromRGB(240,240,240)
header.Text = "Please check DC to see new update script"
header.Parent = frame

local copyBtn = Instance.new("TextButton")
copyBtn.Size = UDim2.new(0, 120, 0, 36)
copyBtn.Position = UDim2.new(1, -130, 1, -46)
copyBtn.AnchorPoint = Vector2.new(0, 0)
copyBtn.BackgroundColor3 = Color3.fromRGB(50, 115, 220)
copyBtn.BorderSizePixel = 0
copyBtn.Font = Enum.Font.SourceSansBold
copyBtn.TextSize = 16
copyBtn.TextColor3 = Color3.fromRGB(255,255,255)
copyBtn.Text = "Copy DC"
copyBtn.Parent = frame

local status = Instance.new("TextLabel")
status.Size = UDim2.new(1, -20, 0, 20)
status.Position = UDim2.new(0, 10, 0, 64)
status.BackgroundTransparency = 1
status.TextXAlignment = Enum.TextXAlignment.Left
status.Font = Enum.Font.SourceSans
status.TextSize = 14
status.TextColor3 = Color3.fromRGB(180,180,180)
status.Text = "Click the button to copy the DC link."
status.Parent = frame

-- Helper: try different clipboard APIs (exploit environments or studio)
local function trySetClipboard(text)
	-- try global setclipboard
	if type(setclipboard) == "function" then
		local ok,err = pcall(setclipboard, text)
		if ok then return true end
	end
	-- try common exploit apis
	if syn and type(syn.set_clipboard) == "function" then
		local ok,err = pcall(syn.set_clipboard, text)
		if ok then return true end
	end
	if typeof(write_clipboard) == "function" then
		local ok,err = pcall(write_clipboard, text)
		if ok then return true end
	end
	-- no automatic clipboard available
	return false
end

local function showTemp(msg, time)
	status.Text = msg
	delay(time or 2, function()
		-- make sure GUI still exists
		if status and status.Parent then
			status.Text = "Click the button to copy the DC link."
		end
	end)
end

copyBtn.MouseButton1Click:Connect(function()
	local ok = trySetClipboard(dcText)
	if ok then
		showTemp("Copied to clipboard ✅", 2)
	else
		-- fallback: show the text in a selectable TextBox for manual copy
		showTemp("Auto-copy not allowed. Open box below and copy manually.", 4)

		local box = Instance.new("TextBox")
		box.Size = UDim2.new(1, -20, 0, 28)
		box.Position = UDim2.new(0, 10, 1, -34)
		box.AnchorPoint = Vector2.new(0, 0)
		box.Text = dcText
		box.ClearTextOnFocus = false
		box.TextEditable = true
		box.Font = Enum.Font.SourceSans
		box.TextSize = 14
		box.TextColor3 = Color3.fromRGB(0,0,0)
		box.BackgroundColor3 = Color3.fromRGB(230,230,230)
		box.Parent = frame

		-- auto-select (visual hint) — Roblox doesn't let us programmatically select text in TextBox,
		-- so instruct user to press Ctrl+C / tap to select.
		delay(8, function()
			if box and box.Parent then box:Destroy() end
		end)
	end
end)
